import{h as l,d as u,o as a,e as c,u as d}from"./vue.esm-bundler-2c1b5ed0.js";const i={};function g(e){return Object.keys(e).reduce((n,t)=>(e[t]!==!1&&e[t]!==null&&e[t]!==void 0&&(n[t]=e[t]),n),{})}const h={name:"InlineSvg",inheritAttrs:!1,render(){return this.svgElSource?l("svg",Object.assign({},this.getSvgAttrs(this.svgElSource),g(this.$attrs),{innerHTML:this.getSvgContent(this.svgElSource)})):null},props:{src:{type:String,required:!0},title:{type:String},transformSource:{type:Function,default:e=>e},keepDuringLoading:{type:Boolean,default:!0}},emits:["loaded","unloaded","error"],data(){return{svgElSource:null}},watch:{src(e){this.getSource(e)}},mounted(){this.getSource(this.src)},methods:{getSvgAttrs(e){let n={};const t=e.attributes;if(!t)return n;for(let r=t.length-1;r>=0;r--)n[t[r].name]=t[r].value;return n},getSvgContent(e){return e=e.cloneNode(!0),e=this.transformSource(e),this.title&&f(e,this.title),e.innerHTML},getSource(e){i[e]||(i[e]=this.download(e)),this.svgElSource&&i[e].getIsPending()&&!this.keepDuringLoading&&(this.svgElSource=null,this.$emit("unloaded")),i[e].then(n=>{this.svgElSource=n,this.$nextTick(()=>{this.$emit("loaded",this.$el)})}).catch(n=>{this.svgElSource&&(this.svgElSource=null,this.$emit("unloaded")),delete i[e],this.$emit("error",n)})},download(e){return m(new Promise((n,t)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=()=>{if(r.status>=200&&r.status<400)try{let s=new DOMParser().parseFromString(r.responseText,"text/xml").getElementsByTagName("svg")[0];s?n(s):t(new Error('Loaded file is not valid SVG"'))}catch(o){t(o)}else t(new Error("Error loading SVG"))},r.onerror=t,r.send()}))}}};function f(e,n){const t=e.getElementsByTagName("title");if(t.length)t[0].textContent=n;else{const r=document.createElementNS("http://www.w3.org/2000/svg","title");r.textContent=n,e.insertBefore(r,e.firstChild)}}function m(e){if(e.getIsPending)return e;let n=!0,t=e.then(r=>(n=!1,r),r=>{throw n=!1,r});return t.getIsPending=function(){return n},t}const S=u({__name:"Icon",props:{icon:{type:Object,required:!0,validator:e=>e.src.includes(".svg")}},setup(e){return(n,t)=>(a(),c(d(h),{src:e.icon.src,"aria-hidden":e.icon.label?"false":"true","aria-label":e.icon.label},null,8,["src","aria-hidden","aria-label"]))}});S.__docgenInfo={exportName:"default",displayName:"Icon",description:"",tags:{},props:[{name:"icon",type:{name:"Icon.Icon"},required:!0}],sourceFiles:["/home/runner/work/Vue3_Component_Library/Vue3_Component_Library/src/components/Icon/Icon.vue"]};export{S as default};
